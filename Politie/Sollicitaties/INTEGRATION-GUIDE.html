<!-- INSTRUCTIES: Voeg dit toe aan elk sollicitatie formulier -->

<!-- 1. Voeg dit toe in de <head> sectie: -->
<script src="../discord-webhook.js"></script>

<!-- 2. Vervang de huidige button sectie met: -->
<div class="no-print" style="text-align: center; margin-top: 30px;">
    <button class="save-button" onclick="submitFormToDiscord()" style="background: linear-gradient(135deg, #10b981, #059669); margin-right: 10px;">
        ‚úÖ Indienen bij Staff
    </button>
    <button class="save-button" onclick="savePDF()">üíæ Opslaan als PDF</button>
</div>

<!-- 3. Voeg deze functie toe in de <script> sectie (PAS formType AAN!): -->
<script>
async function submitFormToDiscord() {
    // Verzamel form data
    const formData = {};
    const inputs = document.querySelectorAll('input[type="text"], textarea, input[type="checkbox"], select');
    
    inputs.forEach(input => {
        const label = input.previousElementSibling?.textContent || input.placeholder || input.id;
        const fieldName = label.replace(':', '').trim();
        
        if (input.type === 'checkbox') {
            formData[fieldName] = input.checked ? 'Ja ‚úÖ' : 'Nee ‚ùå';
        } else if (input.value && input.value.trim() !== '') {
            formData[fieldName] = input.value;
        }
    });

    // Check of er data is
    if (Object.keys(formData).length === 0) {
        alert('‚ö†Ô∏è Vul eerst het formulier in!');
        return;
    }

    // Toon loading
    event.target.disabled = true;
    const originalText = event.target.textContent;
    event.target.textContent = '‚è≥ Verzenden...';

    // PAS DIT AAN PER FORMULIER:
    // Opties: 'politie', 'wtgm', 'grootwapen', 'taser', 'rijbewijs-auto', 'rijbewijs-motor', 'rijbewijs-boot', 'rijbewijs-lucht'
    const formType = 'FORMULIER_TYPE_HIER'; // ‚Üê BELANGRIJK: Pas dit aan!

    // Verstuur naar Discord
    const result = await discordSubmitter.submitToDiscord(formData, formType);

    // Toon resultaat
    if (result.success) {
        discordSubmitter.showSuccessMessage();
    } else {
        discordSubmitter.showErrorMessage();
    }

    // Reset button
    event.target.disabled = false;
    event.target.textContent = originalText;
}
</script>

<!-- FORM TYPE REFERENTIE:
- Politie Sollicitatie: 'politie'
- WTGM Toets: 'wtgm'
- Groot Wapen Toets: 'grootwapen'  
- Taser Toets: 'taser'
- Rijbewijs Auto: 'rijbewijs-auto'
- Rijbewijs Motor: 'rijbewijs-motor'
- Rijbewijs Boot: 'rijbewijs-boot'
- Rijbewijs Lucht: 'rijbewijs-lucht'
-->
